# Flutter Mobile App — Student Debt Management System

**Updated:** 2026-02-07
**Location:** /home/jj/flutter/std_debt/mobile_app/student_debt_app

## Purpose
Flutter mobile application for students to authenticate, view debt status, and submit payment requests.

## Tech Stack
- Flutter 3
- Firebase Auth
- Provider state management
- HTTP/Dio

## Key Files
- [mobile_app/student_debt_app/lib/services/auth_service.dart](../mobile_app/student_debt_app/lib/services/auth_service.dart) — auth + API base URL
- [mobile_app/student_debt_app/lib/services/debt_service.dart](../mobile_app/student_debt_app/lib/services/debt_service.dart) — debt API + mock pay
- [mobile_app/student_debt_app/lib/models/debt_model.dart](../mobile_app/student_debt_app/lib/models/debt_model.dart) — component totals + unpaid components
- [mobile_app/student_debt_app/lib/screens/home_screen.dart](../mobile_app/student_debt_app/lib/screens/home_screen.dart) — dashboard UI
- [mobile_app/student_debt_app/lib/screens/payment_screen.dart](../mobile_app/student_debt_app/lib/screens/payment_screen.dart) — payment plan selection + method picker
- [mobile_app/student_debt_app/lib/widgets/payment_request_form.dart](../mobile_app/student_debt_app/lib/widgets/payment_request_form.dart) — request approval dialog

## Key Behaviors
- API base URL uses `127.0.0.1` for Android device with `adb reverse`.
- Home dashboard shows greeting, total remaining, progress ring, status, quick actions.
- Bottom navigation tabs: Home, Payments, Profile, Notifications.
- Payment screen includes the same bottom navigation.
- Mock payment updates DB and shows a toast with the new balance.
- Home refreshes after returning from Payment screen.

## Firebase Requirement
The file [mobile_app/student_debt_app/lib/firebase_options.dart](../mobile_app/student_debt_app/lib/firebase_options.dart) must exist (generated by FlutterFire).

## Login Flow
1) User logs in with Firebase Auth (email/password).
2) ID token is sent to backend `POST /api/auth/login`.
3) Backend returns a JWT that is stored and used for API calls.

## Run (Device)
```bash
adb reverse tcp:5000 tcp:5000
flutter run
```

## Notes
- Physical device requires `adb reverse` for local backend access.
- Ensure the backend is running before login or data fetch.
